## TDD 설계 및 테스트 코드 작성

#### Red-Green-Refactor
- Red: 테스트가 실패함 (아직 구현X)
- Green: 테스트 성공 (최소한 구현)
- Refactor: 코드 개선 

잘못 생각하고 있었던게, 포인트 충전에서 '음수포인트 충전' 케이스가 실패케이스(RED)로 들어가는 줄 알았다.
그게 아니라 Red에서는 정말 테스트 결과가 실패인 것을 테스트하는 것이다.
Green단계에서는 하드코딩도 사용 가능하다. 그런데 결국 다양한 케이스를 만족하려면 진짜 로직으로 구현해야 한다. 

결국, Red-Green-Refactor는 시나리오별 테스트케이스를 짤 때의 '사이클'이다.
특정 시나리오가 Red이고, Green인 것이 아니라 모든 테스트케이스의 코드는 Red-Green-Refactor의 사이클을 가진다.


#### 실패 케이스(Red) 부터 작성하는 이유?
1. 요구사항을 명확히 정의
테스트가 곧 **"이런 기능이 필요해"**라는 스펙이 됨
```java
@Test
void shouldChargePoints() {
    user.chargePoints(100);  // 이 함수가 있어야 해
    assertEquals(100, user.getPoints());  // 이런 결과가 나와야 해
}
```
2. 과도한 구현 방지
테스트 없이 구현하면 "이것도 필요할까? 저것도 필요할까?" 하면서 불필요한 기능까지 만들게 됨

3. 테스트가 정말 작동하는지 확인
테스트를 나중에 짜게되면 '이 테스트가 버그를 잡을 수 있나?' 의문이 듦.
실패케이스부터 작성하게 된다면 실패를 확인하고 Green 단계에서 구현 확인을 할 수 있음.

#### TDD의 강점
- TDD 를 적용하게 되면 일정수준까지는 테스트 코드를 추가로 작성하는 부담때문에 비용이 증가하겠지만, 일정 시간 이후부터는 거의 비용이 증가하지 않고 일정하게 유지된다.
- TDD 는 구현보다는 인터페이스에 집중하게 해준다.

#### TDD를 실무에서 사용하는 데 있어 올바른 사용 및 사용 습관
1. Top-Down 으로 방향을 잡고, Bottom-Up 으로 구현에 집중하자.
2. 바보 단계 거치기
3. 시나리오 구상하기
4. TDD 의 단위 테스트를 문서화하자.
